<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8">
  <title>CefSharp Demo</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{background:#0F172A;color:#F9FAFB;font-family:'Segoe UI',system-ui,sans-serif;display:flex;height:100vh;overflow:hidden}
    .sidebar{width:220px;background:#111827;border-right:1px solid #1F2937;display:flex;flex-direction:column;flex-shrink:0}
    .sidebar-hdr{padding:22px 20px 18px;border-bottom:1px solid #1F2937}
    .sidebar-hdr h2{font-size:17px;font-weight:700;color:#A78BFA}
    .sidebar-hdr p{font-size:11px;color:#6B7280;margin-top:4px}
    .nav-lbl{font-size:10px;font-weight:600;color:#4B5563;padding:14px 20px 8px;text-transform:uppercase;letter-spacing:.05em}
    .nav-btn{display:flex;align-items:center;gap:12px;width:calc(100% - 12px);margin:2px 6px;padding:10px 12px;background:transparent;border:none;border-radius:8px;color:#D1D5DB;font-size:14px;font-weight:500;cursor:pointer;text-align:left;transition:background .15s}
    .nav-btn:hover{background:#1F2937}
    .nav-btn.active{background:#4C1D95}
    .nav-icon{font-size:18px;flex-shrink:0}
    .sidebar-ftr{margin-top:auto;padding:14px 20px;border-top:1px solid #1F2937;font-size:11px;color:#374151}
    .content{flex:1;overflow-y:auto;padding:32px;background:#0F172A}
    .page{display:none}.page.active{display:block}
    h1.ptitle{font-size:24px;font-weight:700;margin-bottom:8px}
    p.psub{font-size:14px;color:#6B7280;margin-bottom:28px}
    .card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;margin-bottom:24px}
    .card{background:#1E293B;border:1px solid #334155;border-radius:12px;padding:20px}
    .card-icon{font-size:28px;margin-bottom:12px}
    .card-lbl{font-size:12px;color:#6B7280;text-transform:uppercase;letter-spacing:.05em}
    .card-val{font-size:22px;font-weight:700;margin-top:4px}
    .card-sub{font-size:12px;color:#6B7280;margin-top:4px}
    .info-card{background:#1E293B;border:1px solid #334155;border-radius:12px;padding:20px;margin-bottom:16px}
    .info-card h3{font-size:14px;font-weight:600;color:#D1D5DB;margin-bottom:12px}
    .info-row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #1F2937;font-size:13px}
    .info-row:last-child{border-bottom:none}
    .info-lbl{color:#6B7280}.info-val{color:#F9FAFB;font-weight:500}
    .ctrl-card{background:#1E293B;border:1px solid #334155;border-radius:12px;padding:20px;margin-bottom:16px}
    .ctrl-card h3{font-size:13px;font-weight:600;color:#6B7280;text-transform:uppercase;margin-bottom:16px}
    .btn-row{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px}
    .btn{padding:8px 20px;border:none;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500}
    .btn-p{background:#8B5CF6;color:#fff}.btn-s{background:#1F2937;color:#D1D5DB}
    .btn-ok{background:#065F46;color:#6EE7B7}.btn-x{background:#7F1D1D;color:#FCA5A5}
    .out-box{background:#0F172A;border:1px solid #334155;border-radius:8px;padding:12px 16px;font-size:13px;color:#6EE7B7;font-family:Consolas,monospace;min-height:48px;margin-top:8px}
    .txt-in{background:#0F172A;border:1px solid #334155;border-radius:8px;padding:8px 12px;color:#F9FAFB;font-size:13px;min-width:200px}
    .txt-in:focus{outline:none;border-color:#8B5CF6}
    input[type=range]{accent-color:#8B5CF6;min-width:200px}
    .slider-val{font-size:13px;color:#9CA3AF;margin-top:8px}
    .anim-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}
    .anim-card{background:#1E293B;border:1px solid #334155;border-radius:12px;padding:24px;display:flex;flex-direction:column;align-items:center;gap:16px;min-height:160px;justify-content:center}
    .anim-lbl{font-size:12px;color:#6B7280}
    .tbl-wrap{background:#1E293B;border:1px solid #334155;border-radius:12px;overflow:hidden}
    .data-tbl{width:100%;border-collapse:collapse;font-size:13px}
    .data-tbl thead{background:#0F172A}
    .data-tbl th{padding:12px 16px;text-align:left;color:#6B7280;font-size:11px;font-weight:600;text-transform:uppercase;border-bottom:1px solid #334155}
    .data-tbl td{padding:12px 16px;color:#D1D5DB;border-bottom:1px solid #1E293B}
    .data-tbl tr:last-child td{border-bottom:none}
    .data-tbl tr:hover td{background:#1E293B}
    .badge{display:inline-block;padding:3px 10px;border-radius:999px;font-size:11px;font-weight:600}
    .badge-g{background:#064E3B;color:#6EE7B7}.badge-b{background:#1E3A5F;color:#93C5FD}
    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:.7}}
    @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-30px)}}
    @keyframes colorCycle{0%{background:#8B5CF6}25%{background:#3B82F6}50%{background:#10B981}75%{background:#F59E0B}100%{background:#8B5CF6}}
    @keyframes fadeInOut{0%,100%{opacity:.1}50%{opacity:1}}
    @keyframes progFill{0%{width:0}100%{width:85%}}
    .spinner{width:48px;height:48px;border:4px solid #1F2937;border-top-color:#8B5CF6;border-radius:50%;animation:spin 1s linear infinite}
    .pulser{width:48px;height:48px;background:#3B82F6;border-radius:50%;animation:pulse 1.5s ease-in-out infinite}
    .bouncer{width:32px;height:32px;background:#10B981;border-radius:50%;animation:bounce 1s ease-in-out infinite}
    .color-box{width:48px;height:48px;border-radius:12px;animation:colorCycle 3s linear infinite}
    .fade-box{width:64px;height:24px;background:#EC4899;border-radius:6px;animation:fadeInOut 2s ease-in-out infinite}
    .prog-track{width:100%;height:8px;background:#1F2937;border-radius:4px;overflow:hidden}
    .prog-bar{height:8px;background:linear-gradient(90deg,#8B5CF6,#3B82F6);border-radius:4px;animation:progFill 3s ease-out infinite alternate}
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-hdr">
      <h2>ğŸ”µ CefSharp</h2>
      <p>.NET 8 Â· WPF + CefSharp</p>
    </div>
    <div class="nav-lbl">NAVIGATION</div>
    <button class="nav-btn active" id="nav-dashboard" onclick="nav('dashboard')"><span class="nav-icon">ğŸ </span>Dashboard</button>
    <button class="nav-btn" id="nav-controls" onclick="nav('controls')"><span class="nav-icon">ğŸ›ï¸</span>Controls</button>
    <button class="nav-btn" id="nav-animation" onclick="nav('animation')"><span class="nav-icon">âœ¨</span>Animation</button>
    <button class="nav-btn" id="nav-data" onclick="nav('data')"><span class="nav-icon">ğŸ“Š</span>Data Grid</button>
    <div class="sidebar-ftr">v1.0.0 Â· Demo App</div>
  </div>

  <div class="content">
    <!-- Dashboard Page -->
    <div class="page active" id="page-dashboard">
      <h1 class="ptitle">ğŸ  Dashboard</h1>
      <p class="psub">ç³»çµ±è³‡è¨Šé€é CefSharp JS Bridge å¾ C# å–å¾—</p>
      <div class="card-grid">
        <div class="card"><div class="card-icon">âš™ï¸</div><div class="card-lbl">CPU Cores</div><div class="card-val" id="stat-cpu">-</div><div class="card-sub">é‚è¼¯è™•ç†å™¨</div></div>
        <div class="card"><div class="card-icon">ğŸ’»</div><div class="card-lbl">Machine</div><div class="card-val" id="stat-machine" style="font-size:16px">-</div><div class="card-sub">ä¸»æ©Ÿåç¨±</div></div>
        <div class="card"><div class="card-icon">ğŸ”·</div><div class="card-lbl">.NET Version</div><div class="card-val" id="stat-dotnet" style="font-size:16px">-</div><div class="card-sub">åŸ·è¡Œç’°å¢ƒ</div></div>
        <div class="card"><div class="card-icon">ğŸ•</div><div class="card-lbl">Current Time</div><div class="card-val" id="stat-time" style="font-size:15px">-</div><div class="card-sub">ä¼ºæœå™¨æ™‚é–“</div></div>
      </div>
      <div class="info-card">
        <h3>ç³»çµ±è³‡è¨Š</h3>
        <div class="info-row"><span class="info-lbl">ä½œæ¥­ç³»çµ±</span><span class="info-val" id="info-os">-</span></div>
        <div class="info-row"><span class="info-lbl">CPU æ ¸å¿ƒæ•¸</span><span class="info-val" id="info-cpu">-</span></div>
        <div class="info-row"><span class="info-lbl">ä¸»æ©Ÿåç¨±</span><span class="info-val" id="info-machine">-</span></div>
        <div class="info-row"><span class="info-lbl">.NET ç‰ˆæœ¬</span><span class="info-val" id="info-dotnet">-</span></div>
      </div>
      <div class="info-card">
        <h3>ğŸ”µ CefSharp é€šè¨Šæ–¹å¼</h3>
        <p style="font-size:13px;color:#9CA3AF;line-height:1.6;">CefSharp ä½¿ç”¨ <code style="background:#0F172A;padding:2px 6px;border-radius:4px;color:#A78BFA;">JavascriptObjectRepository.Register</code> å°‡ C# ç‰©ä»¶æš´éœ²ç‚º JS å…¨åŸŸè®Šæ•¸ã€‚JS å…ˆå‘¼å« <code style="background:#0F172A;padding:2px 6px;border-radius:4px;color:#A78BFA;">CefSharp.BindObjectAsync('csharpBridge')</code>ï¼Œå†é€é <code style="background:#0F172A;padding:2px 6px;border-radius:4px;color:#A78BFA;">await window.csharpBridge.methodName()</code> ç›´æ¥å‘¼å« C# æ–¹æ³•ã€‚</p>
      </div>
    </div>

    <!-- Controls Page -->
    <div class="page" id="page-controls">
      <h1 class="ptitle">ğŸ›ï¸ Controls</h1>
      <p class="psub">äº’å‹•æ§åˆ¶é …å±•ç¤º â€” ç›´æ¥å‘¼å« C# æ–¹æ³•</p>
      <div class="ctrl-card">
        <h3>BUTTONS</h3>
        <div class="btn-row">
          <button class="btn btn-p" onclick="clickBtn('Primary')">Primary</button>
          <button class="btn btn-s" onclick="clickBtn('Secondary')">Secondary</button>
          <button class="btn btn-ok" onclick="clickBtn('Success')">Success</button>
          <button class="btn btn-x" onclick="clickBtn('Danger âš ï¸')">Danger</button>
        </div>
        <div class="out-box" id="btn-out">é»æ“ŠæŒ‰éˆ•...</div>
      </div>
      <div class="ctrl-card">
        <h3>TEXT INPUT</h3>
        <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px;flex-wrap:wrap">
          <input class="txt-in" id="txt-in" placeholder="è¼¸å…¥æ–‡å­—..." />
          <button class="btn btn-p" onclick="echoText()">Echo to C#</button>
        </div>
        <div class="out-box" id="txt-out">ç­‰å¾…è¼¸å…¥...</div>
      </div>
      <div class="ctrl-card">
        <h3>SLIDER</h3>
        <input type="range" min="0" max="100" value="42" id="slider" oninput="updateSlider(this.value)" />
        <div class="slider-val" id="slider-val">å€¼: 42  (C# è¨ˆç®—å¹³æ–¹: 1764)</div>
      </div>
    </div>

    <!-- Animation Page -->
    <div class="page" id="page-animation">
      <h1 class="ptitle">âœ¨ Animation</h1>
      <p class="psub">CSS å‹•ç•«å±•ç¤º â€” ç´”å‰ç«¯æ¸²æŸ“ï¼Œç„¡éœ€ C# ä»‹å…¥</p>
      <div class="anim-grid">
        <div class="anim-card"><div class="spinner"></div><div class="anim-lbl">Spinner</div></div>
        <div class="anim-card"><div class="pulser"></div><div class="anim-lbl">Pulse</div></div>
        <div class="anim-card"><div class="bouncer"></div><div class="anim-lbl">Bounce</div></div>
        <div class="anim-card"><div class="color-box"></div><div class="anim-lbl">Color Cycle</div></div>
        <div class="anim-card"><div class="fade-box"></div><div class="anim-lbl">Fade</div></div>
        <div class="anim-card"><div class="prog-track"><div class="prog-bar"></div></div><div class="anim-lbl">Progress</div></div>
      </div>
    </div>

    <!-- Data Page -->
    <div class="page" id="page-data">
      <h1 class="ptitle">ğŸ“Š Data Grid</h1>
      <p class="psub">è³‡æ–™å¾ C# è¼‰å…¥ï¼Œç¤ºç¯„ CefSharp Bridge è³‡æ–™å‚³é</p>
      <div class="tbl-wrap">
        <table class="data-tbl">
          <thead><tr><th>å§“å</th><th>è·ä½</th><th>éƒ¨é–€</th><th>è–ªè³‡</th><th>ç‹€æ…‹</th></tr></thead>
          <tbody id="tbl-body"><tr><td colspan="5" style="text-align:center;color:#6B7280;padding:24px">Loading...</td></tr></tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    function nav(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      document.getElementById('page-' + page).classList.add('active');
      document.getElementById('nav-' + page).classList.add('active');
      if (page === 'data' && !dataLoaded) loadData();
    }

    let dataLoaded = false;

    function updateSlider(v) {
      document.getElementById('slider-val').textContent = `å€¼: ${v}  (C# è¨ˆç®—å¹³æ–¹: ${v*v})`;
    }

    function fillSystemInfo(d) {
      document.getElementById('stat-cpu').textContent = d.cpu;
      document.getElementById('stat-machine').textContent = d.machine;
      document.getElementById('stat-dotnet').textContent = d.dotnet;
      document.getElementById('stat-time').textContent = d.time;
      document.getElementById('info-os').textContent = d.os;
      document.getElementById('info-cpu').textContent = d.cpu;
      document.getElementById('info-machine').textContent = d.machine;
      document.getElementById('info-dotnet').textContent = d.dotnet;
    }

    function fillTable(rows) {
      const tb = document.getElementById('tbl-body');
      tb.innerHTML = rows.map(r => `<tr>
        <td style="color:#F9FAFB;font-weight:500">${r.name}</td>
        <td>${r.role}</td><td>${r.dept}</td>
        <td style="color:#6EE7B7">$${r.salary.toLocaleString()}</td>
        <td><span class="badge ${r.status==='Active'?'badge-g':'badge-b'}">${r.status}</span></td>
      </tr>`).join('');
    }

    // CefSharp JS Bridge
    async function loadSystemInfo() {
      await CefSharp.BindObjectAsync('csharpBridge');
      const d = JSON.parse(await window.csharpBridge.getSystemInfo());
      fillSystemInfo(d);
    }
    async function loadData() {
      await CefSharp.BindObjectAsync('csharpBridge');
      const rows = JSON.parse(await window.csharpBridge.getTableData());
      fillTable(rows);
      dataLoaded = true;
    }
    async function clickBtn(name) {
      await CefSharp.BindObjectAsync('csharpBridge');
      const result = await window.csharpBridge.ping(name + ' clicked');
      document.getElementById('btn-out').textContent = result;
    }
    async function echoText() {
      await CefSharp.BindObjectAsync('csharpBridge');
      const v = document.getElementById('txt-in').value;
      const result = await window.csharpBridge.ping(v);
      document.getElementById('txt-out').textContent = result;
    }

    window.addEventListener('load', loadSystemInfo);
  </script>
</body>
</html>
