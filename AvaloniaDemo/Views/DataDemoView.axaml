<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:AvaloniaDemo.ViewModels"
             xmlns:models="using:AvaloniaDemo.Models"
             x:Class="AvaloniaDemo.Views.DataDemoView"
             x:DataType="vm:DataDemoViewModel">

    <UserControl.Styles>
        <Style Selector="Border.panel">
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Background"   Value="#1E293B"/>
            <Setter Property="Padding"      Value="20"/>
        </Style>
        <Style Selector="DataGridRow:selected">
            <Setter Property="Background" Value="#312E81"/>
        </Style>
    </UserControl.Styles>

    <DockPanel Margin="32,28">

        <!-- Page Header -->
        <StackPanel DockPanel.Dock="Top" Spacing="4" Margin="0,0,0,20">
            <TextBlock Text="Data Grid" FontSize="28" FontWeight="Bold" Foreground="#F1F5F9"/>
            <TextBlock Text="Sortable, searchable data table with live filtering"
                       FontSize="14" Foreground="#64748B"/>
        </StackPanel>

        <!-- Main content -->
        <Grid RowDefinitions="Auto,*,Auto">

            <!-- Search bar -->
            <Border Grid.Row="0" Classes="panel" Margin="0,0,0,12" Padding="14,10">
                <Grid ColumnDefinitions="Auto,*">
                    <TextBlock Grid.Column="0" Text="ðŸ”" FontSize="16"
                               VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBox   Grid.Column="1"
                               Text="{Binding SearchText}"
                               Watermark="Search by name, department or statusâ€¦"
                               Background="Transparent"
                               BorderThickness="0"
                               VerticalAlignment="Center"
                               FontSize="14"/>
                </Grid>
            </Border>

            <!-- DataGrid -->
            <Border Grid.Row="1" Classes="panel" Padding="0">
                <DataGrid ItemsSource="{Binding FilteredPeople}"
                          SelectedItem="{Binding SelectedPerson}"
                          AutoGenerateColumns="False"
                          CanUserSortColumns="True"
                          GridLinesVisibility="Horizontal"
                          Background="Transparent"
                          RowBackground="Transparent"
                          BorderThickness="0"
                          ColumnHeaderHeight="42"
                          RowHeight="44">
                    <DataGrid.Columns>

                        <DataGridTextColumn Header="Name"
                                            Binding="{Binding Name}"
                                            Width="*"/>

                        <DataGridTextColumn Header="Age"
                                            Binding="{Binding Age}"
                                            Width="60"/>

                        <DataGridTextColumn Header="Department"
                                            Binding="{Binding Department}"
                                            Width="140"/>

                        <DataGridTemplateColumn Header="Status" Width="110">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate x:DataType="models:PersonModel">
                                    <Border CornerRadius="20" Padding="10,3"
                                            Margin="4,6" VerticalAlignment="Center"
                                            HorizontalAlignment="Left">
                                        <Border.Background>
                                            <SolidColorBrush Color="#334155"/>
                                        </Border.Background>
                                        <TextBlock Text="{Binding Status}" FontSize="12"/>
                                    </Border>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <DataGridTextColumn Header="Score"
                                            Binding="{Binding Score, StringFormat='{}{0:F1}'}"
                                            Width="80"/>

                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <!-- Selection detail bar -->
            <Border Grid.Row="2" Classes="panel" Margin="0,12,0,0" Padding="16,12">
                <Grid ColumnDefinitions="*,Auto">
                    <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="20">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Selected:" FontSize="13" Foreground="#64748B"
                                       VerticalAlignment="Center"/>
                            <TextBlock FontSize="13" FontWeight="SemiBold" Foreground="#A78BFA"
                                       VerticalAlignment="Center">
                                <TextBlock.Text>
                                    <Binding Path="SelectedPerson.Name" FallbackValue="â€”"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Dept:" FontSize="13" Foreground="#64748B"
                                       VerticalAlignment="Center"/>
                            <TextBlock FontSize="13" Foreground="#CBD5E1"
                                       VerticalAlignment="Center">
                                <TextBlock.Text>
                                    <Binding Path="SelectedPerson.Department" FallbackValue="â€”"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Score:" FontSize="13" Foreground="#64748B"
                                       VerticalAlignment="Center"/>
                            <TextBlock FontSize="13" Foreground="#34D399" FontWeight="Bold"
                                       VerticalAlignment="Center">
                                <TextBlock.Text>
                                    <Binding Path="SelectedPerson.Score"
                                             StringFormat="{}{0:F1}"
                                             FallbackValue="â€”"/>
                                </TextBlock.Text>
                            </TextBlock>
                        </StackPanel>
                    </StackPanel>
                    <TextBlock Grid.Column="1" FontSize="12" Foreground="#475569"
                               VerticalAlignment="Center">
                        <TextBlock.Text>
                            <Binding Path="FilteredPeople"
                                     Converter="{x:Static ObjectConverters.IsNotNull}"
                                     FallbackValue="0 records"/>
                        </TextBlock.Text>
                    </TextBlock>
                </Grid>
            </Border>

        </Grid>
    </DockPanel>
</UserControl>
