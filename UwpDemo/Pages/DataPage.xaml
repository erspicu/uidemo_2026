<Page
    x:Class="UwpDemo.Pages.DataPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="using:UwpDemo.Models"
    xmlns:helpers="using:UwpDemo.Helpers"
    Background="Transparent">

    <Page.Resources>
        <helpers:StatusColorConverter x:Key="StatusColor"/>
    </Page.Resources>

    <StackPanel Padding="32,24">

        <!-- Header -->
        <StackPanel Margin="0,0,0,24">
            <TextBlock Text="Data Grid" FontSize="28" FontWeight="Bold"/>
            <TextBlock Text="Browse and filter tabular data" Foreground="#9CA3AF" Margin="0,4,0,0"/>
        </StackPanel>

        <!-- Search -->
        <Border Background="#1F2937" CornerRadius="12" Padding="20">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                    <TextBox x:Name="SearchBox"
                             PlaceholderText="ðŸ”  Search by name, department, status..."
                             Width="360"
                             TextChanged="SearchBox_TextChanged"
                             Margin="0,0,12,0"/>
                    <TextBlock x:Name="CountLabel"
                               VerticalAlignment="Center"
                               Foreground="#9CA3AF" FontSize="13"/>
                </StackPanel>

                <!-- Table Header -->
                <Border Background="#111827" CornerRadius="8" Padding="12,8" Margin="0,0,0,4">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="1.5*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Name"       FontWeight="SemiBold" Foreground="#9CA3AF" FontSize="13"/>
                        <TextBlock Grid.Column="1" Text="Age"        FontWeight="SemiBold" Foreground="#9CA3AF" FontSize="13"/>
                        <TextBlock Grid.Column="2" Text="Department" FontWeight="SemiBold" Foreground="#9CA3AF" FontSize="13"/>
                        <TextBlock Grid.Column="3" Text="Status"     FontWeight="SemiBold" Foreground="#9CA3AF" FontSize="13"/>
                        <TextBlock Grid.Column="4" Text="Score"      FontWeight="SemiBold" Foreground="#9CA3AF" FontSize="13"/>
                    </Grid>
                </Border>

                <!-- Rows -->
                <ItemsControl x:Name="PeopleList" ItemsSource="{x:Bind ViewModel.FilteredPeople, Mode=OneWay}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate x:DataType="models:PersonModel">
                            <Border Background="#1A2332" CornerRadius="6" Padding="12,10" Margin="0,0,0,4">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="1.5*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{x:Bind Name}" FontWeight="Medium"/>
                                    <TextBlock Grid.Column="1" Text="{x:Bind Age}"  Foreground="#9CA3AF"/>
                                    <TextBlock Grid.Column="2" Text="{x:Bind Department}" Foreground="#60A5FA"/>
                                    <Border Grid.Column="3" CornerRadius="4" Padding="8,3" HorizontalAlignment="Left"
                                            Background="{x:Bind Status, Converter={StaticResource StatusColor}}">
                                        <TextBlock Text="{x:Bind Status}" FontSize="12"/>
                                    </Border>
                                    <TextBlock Grid.Column="4" Text="{x:Bind ScoreText}" Foreground="#34D399" FontWeight="Medium"/>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

            </StackPanel>
        </Border>
    </StackPanel>
</Page>
